<<<<<<< HEAD
ï»¿1. Sedç®€ä»‹
sed æ˜¯ä¸€ç§åœ¨çº¿ç¼–è¾‘å™¨ï¼Œå®ƒä¸€æ¬¡å¤„ç†ä¸€è¡Œå†…å®¹ã€‚å¤„ç†æ—¶ï¼ŒæŠŠå½“å‰å¤„ç†çš„è¡Œå­˜å‚¨åœ¨ä¸´æ—¶ç¼“å†²åŒºä¸­ï¼Œç§°ä¸ºâ€œæ¨¡å¼ç©ºé—´â€ï¼ˆpattern spaceï¼‰ï¼ŒæŽ¥ç€ç”¨sedå‘½ä»¤å¤„ç†ç¼“å†²åŒºä¸­çš„å†…å®¹ï¼Œå¤„ç†å®ŒæˆåŽï¼ŒæŠŠç¼“å†²åŒºçš„å†…å®¹é€å¾€å±å¹•ã€‚æŽ¥ç€å¤„ç†ä¸‹ä¸€è¡Œï¼Œè¿™æ ·ä¸æ–­é‡å¤ï¼Œç›´åˆ°æ–‡ä»¶æœ«å°¾ã€‚æ–‡ä»¶å†…å®¹å¹¶æ²¡æœ‰ æ”¹å˜ï¼Œé™¤éžä½ ä½¿ç”¨é‡å®šå‘å­˜å‚¨è¾“å‡ºã€‚Sedä¸»è¦ç”¨æ¥è‡ªåŠ¨ç¼–è¾‘ä¸€ä¸ªæˆ–å¤šä¸ªæ–‡ä»¶ï¼›ç®€åŒ–å¯¹æ–‡ä»¶çš„åå¤æ“ä½œï¼›ç¼–å†™è½¬æ¢ç¨‹åºç­‰ã€‚ä»¥ä¸‹ä»‹ç»çš„æ˜¯Gnuç‰ˆæœ¬çš„Sed 3.02ã€‚
2. å®šå€
å¯ä»¥é€šè¿‡å®šå€æ¥å®šä½ä½ æ‰€å¸Œæœ›ç¼–è¾‘çš„è¡Œï¼Œè¯¥åœ°å€ç”¨æ•°å­—æž„æˆï¼Œç”¨é€—å·åˆ†éš”çš„ä¸¤ä¸ªè¡Œæ•°è¡¨ç¤ºä»¥è¿™ä¸¤è¡Œä¸ºèµ·æ­¢çš„è¡Œçš„èŒƒå›´ï¼ˆåŒ…æ‹¬è¡Œæ•°è¡¨ç¤ºçš„é‚£ä¸¤è¡Œï¼‰ã€‚å¦‚1ï¼Œ3è¡¨ç¤º1ï¼Œ2ï¼Œ3è¡Œï¼Œç¾Žå…ƒç¬¦å·($)è¡¨ç¤ºæœ€åŽä¸€è¡Œã€‚èŒƒå›´å¯ä»¥é€šè¿‡æ•°æ®ï¼Œæ­£åˆ™è¡¨è¾¾å¼æˆ–è€…äºŒè€…ç»“åˆçš„æ–¹å¼ç¡®å®š ã€‚

3. Sedå‘½ä»¤
è°ƒç”¨sedå‘½ä»¤æœ‰ä¸¤ç§å½¢å¼ï¼š
=======
1. Sed¼ò½é
sed ÊÇÒ»ÖÖÔÚÏß±à¼­Æ÷£¬ËüÒ»´Î´¦ÀíÒ»ÐÐÄÚÈÝ¡£´¦ÀíÊ±£¬°Ñµ±Ç°´¦ÀíµÄÐÐ´æ´¢ÔÚÁÙÊ±»º³åÇøÖÐ£¬³ÆÎª¡°Ä£Ê½¿Õ¼ä¡±£¨pattern space£©£¬½Ó×ÅÓÃsedÃüÁî´¦Àí»º³åÇøÖÐµÄÄÚÈÝ£¬´¦ÀíÍê³Éºó£¬°Ñ»º³åÇøµÄÄÚÈÝËÍÍùÆÁÄ»¡£½Ó×Å´¦ÀíÏÂÒ»ÐÐ£¬ÕâÑù²»¶ÏÖØ¸´£¬Ö±µ½ÎÄ¼þÄ©Î²¡£ÎÄ¼þÄÚÈÝ²¢Ã»ÓÐ ¸Ä±ä£¬³ý·ÇÄãÊ¹ÓÃÖØ¶¨Ïò´æ´¢Êä³ö¡£SedÖ÷ÒªÓÃÀ´×Ô¶¯±à¼­Ò»¸ö»ò¶à¸öÎÄ¼þ£»¼ò»¯¶ÔÎÄ¼þµÄ·´¸´²Ù×÷£»±àÐ´×ª»»³ÌÐòµÈ¡£ÒÔÏÂ½éÉÜµÄÊÇGnu°æ±¾µÄSed 3.02¡£
2. ¶¨Ö·
¿ÉÒÔÍ¨¹ý¶¨Ö·À´¶¨Î»ÄãËùÏ£Íû±à¼­µÄÐÐ£¬¸ÃµØÖ·ÓÃÊý×Ö¹¹³É£¬ÓÃ¶ººÅ·Ö¸ôµÄÁ½¸öÐÐÊý±íÊ¾ÒÔÕâÁ½ÐÐÎªÆðÖ¹µÄÐÐµÄ·¶Î§£¨°üÀ¨ÐÐÊý±íÊ¾µÄÄÇÁ½ÐÐ£©¡£Èç1£¬3±íÊ¾1£¬2£¬3ÐÐ£¬ÃÀÔª·ûºÅ($)±íÊ¾×îºóÒ»ÐÐ¡£·¶Î§¿ÉÒÔÍ¨¹ýÊý¾Ý£¬ÕýÔò±í´ïÊ½»òÕß¶þÕß½áºÏµÄ·½Ê½È·¶¨ ¡£

3. SedÃüÁî
µ÷ÓÃsedÃüÁîÓÐÁ½ÖÖÐÎÊ½£º
>>>>>>> cef2a27e4c482b04c23074a416f9545a384a312a
*
sed [options] 'command' file(s)
*
sed [options] -f scriptfile file(s)
a\
<<<<<<< HEAD
åœ¨å½“å‰è¡ŒåŽé¢åŠ å…¥ä¸€è¡Œæ–‡æœ¬ã€‚
b lable
åˆ†æ”¯åˆ°è„šæœ¬ä¸­å¸¦æœ‰æ ‡è®°çš„åœ°æ–¹ï¼Œå¦‚æžœåˆ†æ”¯ä¸å­˜åœ¨åˆ™åˆ†æ”¯åˆ°è„šæœ¬çš„æœ«å°¾ã€‚
c\
ç”¨æ–°çš„æ–‡æœ¬æ”¹å˜æœ¬è¡Œçš„æ–‡æœ¬ã€‚
d
ä»Žæ¨¡æ¿å—ï¼ˆPattern spaceï¼‰ä½ç½®åˆ é™¤è¡Œã€‚
D
åˆ é™¤æ¨¡æ¿å—çš„ç¬¬ä¸€è¡Œã€‚
i\
åœ¨å½“å‰è¡Œä¸Šé¢æ’å…¥æ–‡æœ¬ã€‚
h
æ‹·è´æ¨¡æ¿å—çš„å†…å®¹åˆ°å†…å­˜ä¸­çš„ç¼“å†²åŒºã€‚
H
è¿½åŠ æ¨¡æ¿å—çš„å†…å®¹åˆ°å†…å­˜ä¸­çš„ç¼“å†²åŒº
g
èŽ·å¾—å†…å­˜ç¼“å†²åŒºçš„å†…å®¹ï¼Œå¹¶æ›¿ä»£å½“å‰æ¨¡æ¿å—ä¸­çš„æ–‡æœ¬ã€‚
G
èŽ·å¾—å†…å­˜ç¼“å†²åŒºçš„å†…å®¹ï¼Œå¹¶è¿½åŠ åˆ°å½“å‰æ¨¡æ¿å—æ–‡æœ¬çš„åŽé¢ã€‚
l
åˆ—è¡¨ä¸èƒ½æ‰“å°å­—ç¬¦çš„æ¸…å•ã€‚
n
è¯»å–ä¸‹ä¸€ä¸ªè¾“å…¥è¡Œï¼Œç”¨ä¸‹ä¸€ä¸ªå‘½ä»¤å¤„ç†æ–°çš„è¡Œè€Œä¸æ˜¯ç”¨ç¬¬ä¸€ä¸ªå‘½ä»¤ã€‚
N
è¿½åŠ ä¸‹ä¸€ä¸ªè¾“å…¥è¡Œåˆ°æ¨¡æ¿å—åŽé¢å¹¶åœ¨äºŒè€…é—´åµŒå…¥ä¸€ä¸ªæ–°è¡Œï¼Œæ”¹å˜å½“å‰è¡Œå·ç ã€‚
p
æ‰“å°æ¨¡æ¿å—çš„è¡Œã€‚
Pï¼ˆå¤§å†™ï¼‰
æ‰“å°æ¨¡æ¿å—çš„ç¬¬ä¸€è¡Œã€‚
q
é€€å‡ºSedã€‚
r file
ä»Žfileä¸­è¯»è¡Œã€‚
t label
ifåˆ†æ”¯ï¼Œä»Žæœ€åŽä¸€è¡Œå¼€å§‹ï¼Œæ¡ä»¶ä¸€æ—¦æ»¡è¶³æˆ–è€…Tï¼Œtå‘½ä»¤ï¼Œå°†å¯¼è‡´åˆ†æ”¯åˆ°å¸¦æœ‰æ ‡å·çš„å‘½ä»¤å¤„ï¼Œæˆ–è€…åˆ°è„šæœ¬çš„æœ«å°¾ã€‚
T label
é”™è¯¯åˆ†æ”¯ï¼Œä»Žæœ€åŽä¸€è¡Œå¼€å§‹ï¼Œä¸€æ—¦å‘ç”Ÿé”™è¯¯æˆ–è€…Tï¼Œtå‘½ä»¤ï¼Œå°†å¯¼è‡´åˆ†æ”¯åˆ°å¸¦æœ‰æ ‡å·çš„å‘½ä»¤å¤„ï¼Œæˆ–è€…åˆ°è„šæœ¬çš„æœ«å°¾ã€‚
w file
å†™å¹¶è¿½åŠ æ¨¡æ¿å—åˆ°fileæœ«å°¾ã€‚
W file
å†™å¹¶è¿½åŠ æ¨¡æ¿å—çš„ç¬¬ä¸€è¡Œåˆ°fileæœ«å°¾ã€‚
!
è¡¨ç¤ºåŽé¢çš„å‘½ä»¤å¯¹æ‰€æœ‰æ²¡æœ‰è¢«é€‰å®šçš„è¡Œå‘ç”Ÿä½œç”¨ã€‚
s/re/string
ç”¨stringæ›¿æ¢æ­£åˆ™è¡¨è¾¾å¼reã€‚
=
æ‰“å°å½“å‰è¡Œå·ç ã€‚
#
æŠŠæ³¨é‡Šæ‰©å±•åˆ°ä¸‹ä¸€ä¸ªæ¢è¡Œç¬¦ä»¥å‰ã€‚
ä»¥ä¸‹çš„æ˜¯æ›¿æ¢æ ‡è®°
*
gè¡¨ç¤ºè¡Œå†…å…¨é¢æ›¿æ¢ã€‚
*
pè¡¨ç¤ºæ‰“å°è¡Œã€‚
*
wè¡¨ç¤ºæŠŠè¡Œå†™å…¥ä¸€ä¸ªæ–‡ä»¶ã€‚
*
xè¡¨ç¤ºäº’æ¢æ¨¡æ¿å—ä¸­çš„æ–‡æœ¬å’Œç¼“å†²åŒºä¸­çš„æ–‡æœ¬ã€‚
*
yè¡¨ç¤ºæŠŠä¸€ä¸ªå­—ç¬¦ç¿»è¯‘ä¸ºå¦å¤–çš„å­—ç¬¦ï¼ˆä½†æ˜¯ä¸ç”¨äºŽæ­£åˆ™è¡¨è¾¾å¼ï¼‰

4. é€‰é¡¹
-e command, --expression=command
å…è®¸å¤šå°ç¼–è¾‘ã€‚
-h, --help
æ‰“å°å¸®åŠ©ï¼Œå¹¶æ˜¾ç¤ºbugåˆ—è¡¨çš„åœ°å€ã€‚
-n, --quiet, --silent

å–æ¶ˆé»˜è®¤è¾“å‡ºã€‚
-f, --filer=script-file
å¼•å¯¼sedè„šæœ¬æ–‡ä»¶åã€‚
-V, --version
æ‰“å°ç‰ˆæœ¬å’Œç‰ˆæƒä¿¡æ¯ã€‚

5. å…ƒå­—ç¬¦é›†^
é”šå®šè¡Œçš„å¼€å§‹ å¦‚ï¼š/^sed/åŒ¹é…æ‰€æœ‰ä»¥sedå¼€å¤´çš„è¡Œã€‚ 
$
é”šå®šè¡Œçš„ç»“æŸ å¦‚ï¼š/sed$/åŒ¹é…æ‰€æœ‰ä»¥sedç»“å°¾çš„è¡Œã€‚ 
.
åŒ¹é…ä¸€ä¸ªéžæ¢è¡Œç¬¦çš„å­—ç¬¦ å¦‚ï¼š/s.d/åŒ¹é…såŽæŽ¥ä¸€ä¸ªä»»æ„å­—ç¬¦ï¼Œç„¶åŽæ˜¯dã€‚ 
*
åŒ¹é…é›¶æˆ–å¤šä¸ªå­—ç¬¦ å¦‚ï¼š/*sed/åŒ¹é…æ‰€æœ‰æ¨¡æ¿æ˜¯ä¸€ä¸ªæˆ–å¤šä¸ªç©ºæ ¼åŽç´§è·Ÿsedçš„è¡Œã€‚ 
[]
åŒ¹é…ä¸€ä¸ªæŒ‡å®šèŒƒå›´å†…çš„å­—ç¬¦ï¼Œå¦‚/[Ss]ed/åŒ¹é…sedå’ŒSedã€‚ 
[^]
åŒ¹é…ä¸€ä¸ªä¸åœ¨æŒ‡å®šèŒƒå›´å†…çš„å­—ç¬¦ï¼Œå¦‚ï¼š/[^A-RT-Z]ed/åŒ¹é…ä¸åŒ…å«A-Rå’ŒT-Zçš„ä¸€ä¸ªå­—æ¯å¼€å¤´ï¼Œç´§è·Ÿedçš„è¡Œã€‚ 
\(..\)
ä¿å­˜åŒ¹é…çš„å­—ç¬¦ï¼Œå¦‚s/\(love\)able/\1rsï¼Œloveableè¢«æ›¿æ¢æˆloversã€‚ 
&
ä¿å­˜æœç´¢å­—ç¬¦ç”¨æ¥æ›¿æ¢å…¶ä»–å­—ç¬¦ï¼Œå¦‚s/love/**&**/ï¼Œloveè¿™æˆ**love**ã€‚ 
\<
é”šå®šå•è¯çš„å¼€å§‹ï¼Œå¦‚:/\<love/åŒ¹é…åŒ…å«ä»¥loveå¼€å¤´çš„å•è¯çš„è¡Œã€‚ 
\>
é”šå®šå•è¯çš„ç»“æŸï¼Œå¦‚/love\>/åŒ¹é…åŒ…å«ä»¥loveç»“å°¾çš„å•è¯çš„è¡Œã€‚ 
x\{m\}
é‡å¤å­—ç¬¦xï¼Œmæ¬¡ï¼Œå¦‚ï¼š/0\{5\}/åŒ¹é…åŒ…å«5ä¸ªoçš„è¡Œã€‚ 
x\{m,\}
é‡å¤å­—ç¬¦x,è‡³å°‘mæ¬¡ï¼Œå¦‚ï¼š/o\{5,\}/åŒ¹é…è‡³å°‘æœ‰5ä¸ªoçš„è¡Œã€‚ 
x\{m,n\}
é‡å¤å­—ç¬¦xï¼Œè‡³å°‘mæ¬¡ï¼Œä¸å¤šäºŽnæ¬¡ï¼Œå¦‚ï¼š/o\{5,10\}/åŒ¹é…5--10ä¸ªoçš„è¡Œã€‚
6. å®žä¾‹
åˆ é™¤ï¼šdå‘½ä»¤
*
$ sed '2d' example-----åˆ é™¤exampleæ–‡ä»¶çš„ç¬¬äºŒè¡Œã€‚
*
$ sed '2,$d' example-----åˆ é™¤exampleæ–‡ä»¶çš„ç¬¬äºŒè¡Œåˆ°æœ«å°¾æ‰€æœ‰è¡Œã€‚
*
$ sed '$d' example-----åˆ é™¤exampleæ–‡ä»¶çš„æœ€åŽä¸€è¡Œã€‚
*
$ sed '/test/'d example-----åˆ é™¤exampleæ–‡ä»¶æ‰€æœ‰åŒ…å«testçš„è¡Œã€‚
æ›¿æ¢ï¼šså‘½ä»¤
*
$ sed 's/test/mytest/g' example-----åœ¨æ•´è¡ŒèŒƒå›´å†…æŠŠtestæ›¿æ¢ä¸ºmytestã€‚å¦‚æžœæ²¡æœ‰gæ ‡è®°ï¼Œåˆ™åªæœ‰æ¯è¡Œç¬¬ä¸€ä¸ªåŒ¹é…çš„testè¢«æ›¿æ¢æˆmytestã€‚
*
$ sed -n 's/^test/mytest/p' example-----(-n)é€‰é¡¹å’Œpæ ‡å¿—ä¸€èµ·ä½¿ç”¨è¡¨ç¤ºåªæ‰“å°é‚£äº›å‘ç”Ÿæ›¿æ¢çš„è¡Œã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æžœæŸä¸€è¡Œå¼€å¤´çš„testè¢«æ›¿æ¢æˆmytestï¼Œå°±æ‰“å°å®ƒã€‚
*
$ sed 's/^192.168.0.1/&localhost/' example-----&ç¬¦å·è¡¨ç¤ºæ›¿æ¢æ¢å­—ç¬¦ä¸²ä¸­è¢«æ‰¾åˆ°çš„éƒ¨ä»½ã€‚æ‰€æœ‰ä»¥192.168.0.1å¼€å¤´çš„è¡Œéƒ½ä¼šè¢«æ›¿æ¢æˆå®ƒè‡ªå·²åŠ  localhostï¼Œå˜æˆ192.168.0.1localhostã€‚
*
$ sed -n 's/\(love\)able/\1rs/p' example-----loveè¢«æ ‡è®°ä¸º1ï¼Œæ‰€æœ‰loveableä¼šè¢«æ›¿æ¢æˆloversï¼Œè€Œä¸”æ›¿æ¢çš„è¡Œä¼šè¢«æ‰“å°å‡ºæ¥ã€‚
*
$ sed 's#10#100#g' example-----ä¸è®ºä»€ä¹ˆå­—ç¬¦ï¼Œç´§è·Ÿç€så‘½ä»¤çš„éƒ½è¢«è®¤ä¸ºæ˜¯æ–°çš„åˆ†éš”ç¬¦ï¼Œæ‰€ä»¥ï¼Œâ€œ#â€åœ¨è¿™é‡Œæ˜¯åˆ†éš”ç¬¦ï¼Œä»£æ›¿äº†é»˜è®¤çš„â€œ/â€åˆ†éš”ç¬¦ã€‚è¡¨ç¤ºæŠŠæ‰€æœ‰10æ›¿æ¢æˆ100ã€‚
é€‰å®šè¡Œçš„èŒƒå›´ï¼šé€—å·
*
$ sed -n '/test/,/check/p' example-----æ‰€æœ‰åœ¨æ¨¡æ¿testå’Œcheckæ‰€ç¡®å®šçš„èŒƒå›´å†…çš„è¡Œéƒ½è¢«æ‰“å°ã€‚
*
$ sed -n '5,/^test/p' example-----æ‰“å°ä»Žç¬¬äº”è¡Œå¼€å§‹åˆ°ç¬¬ä¸€ä¸ªåŒ…å«ä»¥testå¼€å§‹çš„è¡Œä¹‹é—´çš„æ‰€æœ‰è¡Œã€‚
*
$ sed '/test/,/check/s/$/sed test/' example-----å¯¹äºŽæ¨¡æ¿testå’Œwestä¹‹é—´çš„è¡Œï¼Œæ¯è¡Œçš„æœ«å°¾ç”¨å­—ç¬¦ä¸²sed testæ›¿æ¢ã€‚
å¤šç‚¹ç¼–è¾‘ï¼šeå‘½ä»¤
*
$ sed -e '1,5d' -e 's/test/check/' example-----(-e)é€‰é¡¹å…è®¸åœ¨åŒä¸€è¡Œé‡Œæ‰§è¡Œå¤šæ¡å‘½ä»¤ã€‚å¦‚ä¾‹å­æ‰€ç¤ºï¼Œç¬¬ä¸€æ¡å‘½ä»¤åˆ é™¤1è‡³5è¡Œï¼Œç¬¬äºŒæ¡å‘½ä»¤ç”¨checkæ›¿æ¢testã€‚å‘½ä»¤çš„æ‰§ è¡Œé¡ºåºå¯¹ç»“æžœæœ‰å½±å“ã€‚å¦‚æžœä¸¤ä¸ªå‘½ä»¤éƒ½æ˜¯æ›¿æ¢å‘½ä»¤ï¼Œé‚£ä¹ˆç¬¬ä¸€ä¸ªæ›¿æ¢å‘½ä»¤å°†å½±å“ç¬¬äºŒä¸ªæ›¿æ¢å‘½ä»¤çš„ç»“æžœã€‚
*
$ sed --expression='s/test/check/' --expression='/love/d' example-----ä¸€ä¸ªæ¯”-eæ›´å¥½çš„å‘½ä»¤æ˜¯--expressionã€‚å®ƒèƒ½ç»™sedè¡¨è¾¾å¼èµ‹å€¼ã€‚
ä»Žæ–‡ä»¶è¯»å…¥ï¼šrå‘½ä»¤
*
$ sed '/test/r file' example-----fileé‡Œçš„å†…å®¹è¢«è¯»è¿›æ¥ï¼Œæ˜¾ç¤ºåœ¨ä¸ŽteståŒ¹é…çš„è¡ŒåŽé¢ï¼Œå¦‚æžœåŒ¹é…å¤šè¡Œï¼Œåˆ™fileçš„å†…å®¹å°†æ˜¾ç¤ºåœ¨æ‰€æœ‰åŒ¹é…è¡Œçš„ä¸‹é¢ã€‚
å†™å…¥æ–‡ä»¶ï¼šwå‘½ä»¤
*
$ sed -n '/test/w file' example-----åœ¨exampleä¸­æ‰€æœ‰åŒ…å«testçš„è¡Œéƒ½è¢«å†™å…¥fileé‡Œã€‚
è¿½åŠ å‘½ä»¤ï¼šaå‘½ä»¤
*
$ sed '/^test/a\\--->this is a example' example<-----'this is a example'è¢«è¿½åŠ åˆ°ä»¥testå¼€å¤´çš„è¡ŒåŽé¢ï¼Œsedè¦æ±‚å‘½ä»¤aåŽé¢æœ‰ä¸€ä¸ªåæ–œæ ã€‚
æ’å…¥ï¼šiå‘½ä»¤
$ sed '/test/i\\
new line
-------------------------' example
å¦‚æžœtestè¢«åŒ¹é…ï¼Œåˆ™æŠŠåæ–œæ åŽé¢çš„æ–‡æœ¬æ’å…¥åˆ°åŒ¹é…è¡Œçš„å‰é¢ã€‚
ä¸‹ä¸€ä¸ªï¼šnå‘½ä»¤
*
$ sed '/test/{ n; s/aa/bb/; }' example-----å¦‚æžœtestè¢«åŒ¹é…ï¼Œåˆ™ç§»åŠ¨åˆ°åŒ¹é…è¡Œçš„ä¸‹ä¸€è¡Œï¼Œæ›¿æ¢è¿™ä¸€è¡Œçš„aaï¼Œå˜ä¸ºbbï¼Œå¹¶æ‰“å°è¯¥è¡Œï¼Œç„¶åŽç»§ç»­ã€‚
å˜å½¢ï¼šyå‘½ä»¤
*
$ sed '1,10y/abcde/ABCDE/' example-----æŠŠ1--10è¡Œå†…æ‰€æœ‰abcdeè½¬å˜ä¸ºå¤§å†™ï¼Œæ³¨æ„ï¼Œæ­£åˆ™è¡¨è¾¾å¼å…ƒå­—ç¬¦ä¸èƒ½ä½¿ç”¨è¿™ä¸ªå‘½ä»¤ã€‚
é€€å‡ºï¼šqå‘½ä»¤
*
$ sed '10q' example-----æ‰“å°å®Œç¬¬10è¡ŒåŽï¼Œé€€å‡ºsedã€‚
ä¿æŒå’ŒèŽ·å–ï¼šhå‘½ä»¤å’ŒGå‘½ä»¤
*
$ sed -e '/test/h' -e '$G example-----åœ¨sedå¤„ç†æ–‡ä»¶çš„æ—¶å€™ï¼Œæ¯ä¸€è¡Œéƒ½è¢«ä¿å­˜åœ¨ä¸€ä¸ªå«æ¨¡å¼ç©ºé—´çš„ä¸´æ—¶ç¼“å†²åŒºä¸­ï¼Œé™¤éžè¡Œè¢«åˆ é™¤æˆ–è€…è¾“å‡ºè¢«å–æ¶ˆï¼Œå¦åˆ™æ‰€æœ‰è¢«å¤„ç†çš„è¡Œéƒ½å°† æ‰“å°åœ¨å±å¹•ä¸Šã€‚æŽ¥ç€æ¨¡å¼ç©ºé—´è¢«æ¸…ç©ºï¼Œå¹¶å­˜å…¥æ–°çš„ä¸€è¡Œç­‰å¾…å¤„ç†ã€‚åœ¨è¿™ä¸ªä¾‹å­é‡Œï¼ŒåŒ¹é…testçš„è¡Œè¢«æ‰¾åˆ°åŽï¼Œå°†å­˜å…¥æ¨¡å¼ç©ºé—´ï¼Œhå‘½ä»¤å°†å…¶å¤åˆ¶å¹¶å­˜å…¥ä¸€ä¸ªç§°ä¸ºä¿ æŒç¼“å­˜åŒºçš„ç‰¹æ®Šç¼“å†²åŒºå†…ã€‚ç¬¬äºŒæ¡è¯­å¥çš„æ„æ€æ˜¯ï¼Œå½“åˆ°è¾¾æœ€åŽä¸€è¡ŒåŽï¼ŒGå‘½ä»¤å–å‡ºä¿æŒç¼“å†²åŒºçš„è¡Œï¼Œç„¶åŽæŠŠå®ƒæ”¾å›žæ¨¡å¼ç©ºé—´ä¸­ï¼Œä¸”è¿½åŠ åˆ°çŽ°åœ¨å·²ç»å­˜åœ¨äºŽæ¨¡å¼ç©ºé—´ä¸­ çš„è¡Œçš„æœ«å°¾ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­å°±æ˜¯è¿½åŠ åˆ°æœ€åŽä¸€è¡Œã€‚ç®€å•æ¥è¯´ï¼Œä»»ä½•åŒ…å«testçš„è¡Œéƒ½è¢«å¤åˆ¶å¹¶è¿½åŠ åˆ°è¯¥æ–‡ä»¶çš„æœ«å°¾ã€‚
ä¿æŒå’Œäº’æ¢ï¼šhå‘½ä»¤å’Œxå‘½ä»¤
*
$ sed -e '/test/h' -e '/check/x' example -----äº’æ¢æ¨¡å¼ç©ºé—´å’Œä¿æŒç¼“å†²åŒºçš„å†…å®¹ã€‚ä¹Ÿå°±æ˜¯æŠŠåŒ…å«testä¸Žcheckçš„è¡Œäº’æ¢ã€‚
7. è„šæœ¬
Sedè„šæœ¬æ˜¯ä¸€ä¸ªsedçš„å‘½ä»¤æ¸…å•ï¼Œå¯åŠ¨Sedæ—¶ä»¥-fé€‰é¡¹å¼•å¯¼è„šæœ¬æ–‡ä»¶åã€‚Sedå¯¹äºŽè„šæœ¬ä¸­è¾“å…¥çš„å‘½ä»¤éžå¸¸æŒ‘å‰”ï¼Œåœ¨å‘½ä»¤çš„æœ«å°¾ä¸èƒ½æœ‰ä»»ä½•ç©ºç™½æˆ–æ–‡æœ¬ï¼Œå¦‚æžœåœ¨ä¸€è¡Œä¸­æœ‰å¤šä¸ªå‘½ä»¤ï¼Œè¦ç”¨åˆ†å·åˆ†éš”ã€‚ä»¥#å¼€å¤´çš„è¡Œä¸ºæ³¨é‡Šè¡Œï¼Œä¸”ä¸èƒ½è·¨è¡Œã€‚

=======================================
å¦‚ä½•å®žçŽ°trimåŠŸèƒ½
\sed 's/^ //;s/ $//'
=======================================
nç­‰äºŽå‡ å°±æ˜¯åˆ é™¤æ–‡ä»¶åŽé¢çš„å‡ è¡Œ
n=2;sed '1{:a;N;'$n'!b a};$d;N;P;D' daily_www.log
=======
ÔÚµ±Ç°ÐÐºóÃæ¼ÓÈëÒ»ÐÐÎÄ±¾¡£
b lable
·ÖÖ§µ½½Å±¾ÖÐ´øÓÐ±ê¼ÇµÄµØ·½£¬Èç¹û·ÖÖ§²»´æÔÚÔò·ÖÖ§µ½½Å±¾µÄÄ©Î²¡£
c\
ÓÃÐÂµÄÎÄ±¾¸Ä±ä±¾ÐÐµÄÎÄ±¾¡£
d
´ÓÄ£°å¿é£¨Pattern space£©Î»ÖÃÉ¾³ýÐÐ¡£
D
É¾³ýÄ£°å¿éµÄµÚÒ»ÐÐ¡£
i\
ÔÚµ±Ç°ÐÐÉÏÃæ²åÈëÎÄ±¾¡£
h
¿½±´Ä£°å¿éµÄÄÚÈÝµ½ÄÚ´æÖÐµÄ»º³åÇø¡£
H
×·¼ÓÄ£°å¿éµÄÄÚÈÝµ½ÄÚ´æÖÐµÄ»º³åÇø
g
»ñµÃÄÚ´æ»º³åÇøµÄÄÚÈÝ£¬²¢Ìæ´úµ±Ç°Ä£°å¿éÖÐµÄÎÄ±¾¡£
G
»ñµÃÄÚ´æ»º³åÇøµÄÄÚÈÝ£¬²¢×·¼Óµ½µ±Ç°Ä£°å¿éÎÄ±¾µÄºóÃæ¡£
l
ÁÐ±í²»ÄÜ´òÓ¡×Ö·ûµÄÇåµ¥¡£
n
¶ÁÈ¡ÏÂÒ»¸öÊäÈëÐÐ£¬ÓÃÏÂÒ»¸öÃüÁî´¦ÀíÐÂµÄÐÐ¶ø²»ÊÇÓÃµÚÒ»¸öÃüÁî¡£
N
×·¼ÓÏÂÒ»¸öÊäÈëÐÐµ½Ä£°å¿éºóÃæ²¢ÔÚ¶þÕß¼äÇ¶ÈëÒ»¸öÐÂÐÐ£¬¸Ä±äµ±Ç°ÐÐºÅÂë¡£
p
´òÓ¡Ä£°å¿éµÄÐÐ¡£
P£¨´óÐ´£©
´òÓ¡Ä£°å¿éµÄµÚÒ»ÐÐ¡£
q
ÍË³öSed¡£
r file
´ÓfileÖÐ¶ÁÐÐ¡£
t label
if·ÖÖ§£¬´Ó×îºóÒ»ÐÐ¿ªÊ¼£¬Ìõ¼þÒ»µ©Âú×ã»òÕßT£¬tÃüÁî£¬½«µ¼ÖÂ·ÖÖ§µ½´øÓÐ±êºÅµÄÃüÁî´¦£¬»òÕßµ½½Å±¾µÄÄ©Î²¡£
T label
´íÎó·ÖÖ§£¬´Ó×îºóÒ»ÐÐ¿ªÊ¼£¬Ò»µ©·¢Éú´íÎó»òÕßT£¬tÃüÁî£¬½«µ¼ÖÂ·ÖÖ§µ½´øÓÐ±êºÅµÄÃüÁî´¦£¬»òÕßµ½½Å±¾µÄÄ©Î²¡£
w file
Ð´²¢×·¼ÓÄ£°å¿éµ½fileÄ©Î²¡£
W file
Ð´²¢×·¼ÓÄ£°å¿éµÄµÚÒ»ÐÐµ½fileÄ©Î²¡£
!
±íÊ¾ºóÃæµÄÃüÁî¶ÔËùÓÐÃ»ÓÐ±»Ñ¡¶¨µÄÐÐ·¢Éú×÷ÓÃ¡£
s/re/string
ÓÃstringÌæ»»ÕýÔò±í´ïÊ½re¡£
=
´òÓ¡µ±Ç°ÐÐºÅÂë¡£
#
°Ñ×¢ÊÍÀ©Õ¹µ½ÏÂÒ»¸ö»»ÐÐ·ûÒÔÇ°¡£
ÒÔÏÂµÄÊÇÌæ»»±ê¼Ç
*
g±íÊ¾ÐÐÄÚÈ«ÃæÌæ»»¡£
*
p±íÊ¾´òÓ¡ÐÐ¡£
*
w±íÊ¾°ÑÐÐÐ´ÈëÒ»¸öÎÄ¼þ¡£
*
x±íÊ¾»¥»»Ä£°å¿éÖÐµÄÎÄ±¾ºÍ»º³åÇøÖÐµÄÎÄ±¾¡£
*
y±íÊ¾°ÑÒ»¸ö×Ö·û·­ÒëÎªÁíÍâµÄ×Ö·û£¨µ«ÊÇ²»ÓÃÓÚÕýÔò±í´ïÊ½£©

4. Ñ¡Ïî
-e command, --expression=command
ÔÊÐí¶àÌ¨±à¼­¡£
-h, --help
´òÓ¡°ïÖú£¬²¢ÏÔÊ¾bugÁÐ±íµÄµØÖ·¡£
-n, --quiet, --silent

È¡ÏûÄ¬ÈÏÊä³ö¡£
-f, --filer=script-file
Òýµ¼sed½Å±¾ÎÄ¼þÃû¡£
-V, --version
´òÓ¡°æ±¾ºÍ°æÈ¨ÐÅÏ¢¡£

5. Ôª×Ö·û¼¯^
Ãª¶¨ÐÐµÄ¿ªÊ¼ Èç£º/^sed/Æ¥ÅäËùÓÐÒÔsed¿ªÍ·µÄÐÐ¡£ 
$
Ãª¶¨ÐÐµÄ½áÊø Èç£º/sed$/Æ¥ÅäËùÓÐÒÔsed½áÎ²µÄÐÐ¡£ 
.
Æ¥ÅäÒ»¸ö·Ç»»ÐÐ·ûµÄ×Ö·û Èç£º/s.d/Æ¥Åäsºó½ÓÒ»¸öÈÎÒâ×Ö·û£¬È»ºóÊÇd¡£ 
*
Æ¥ÅäÁã»ò¶à¸ö×Ö·û Èç£º/*sed/Æ¥ÅäËùÓÐÄ£°åÊÇÒ»¸ö»ò¶à¸ö¿Õ¸ñºó½ô¸úsedµÄÐÐ¡£ 
[]
Æ¥ÅäÒ»¸öÖ¸¶¨·¶Î§ÄÚµÄ×Ö·û£¬Èç/[Ss]ed/Æ¥ÅäsedºÍSed¡£ 
[^]
Æ¥ÅäÒ»¸ö²»ÔÚÖ¸¶¨·¶Î§ÄÚµÄ×Ö·û£¬Èç£º/[^A-RT-Z]ed/Æ¥Åä²»°üº¬A-RºÍT-ZµÄÒ»¸ö×ÖÄ¸¿ªÍ·£¬½ô¸úedµÄÐÐ¡£ 
\(..\)
±£´æÆ¥ÅäµÄ×Ö·û£¬Èçs/\(love\)able/\1rs£¬loveable±»Ìæ»»³Élovers¡£ 
&
±£´æËÑË÷×Ö·ûÓÃÀ´Ìæ»»ÆäËû×Ö·û£¬Èçs/love/**&**/£¬loveÕâ³É**love**¡£ 
\<
Ãª¶¨µ¥´ÊµÄ¿ªÊ¼£¬Èç:/\<love/Æ¥Åä°üº¬ÒÔlove¿ªÍ·µÄµ¥´ÊµÄÐÐ¡£ 
\>
Ãª¶¨µ¥´ÊµÄ½áÊø£¬Èç/love\>/Æ¥Åä°üº¬ÒÔlove½áÎ²µÄµ¥´ÊµÄÐÐ¡£ 
x\{m\}
ÖØ¸´×Ö·ûx£¬m´Î£¬Èç£º/0\{5\}/Æ¥Åä°üº¬5¸öoµÄÐÐ¡£ 
x\{m,\}
ÖØ¸´×Ö·ûx,ÖÁÉÙm´Î£¬Èç£º/o\{5,\}/Æ¥ÅäÖÁÉÙÓÐ5¸öoµÄÐÐ¡£ 
x\{m,n\}
ÖØ¸´×Ö·ûx£¬ÖÁÉÙm´Î£¬²»¶àÓÚn´Î£¬Èç£º/o\{5,10\}/Æ¥Åä5--10¸öoµÄÐÐ¡£
6. ÊµÀý
É¾³ý£ºdÃüÁî
*
$ sed '2d' example-----É¾³ýexampleÎÄ¼þµÄµÚ¶þÐÐ¡£
*
$ sed '2,$d' example-----É¾³ýexampleÎÄ¼þµÄµÚ¶þÐÐµ½Ä©Î²ËùÓÐÐÐ¡£
*
$ sed '$d' example-----É¾³ýexampleÎÄ¼þµÄ×îºóÒ»ÐÐ¡£
*
$ sed '/test/'d example-----É¾³ýexampleÎÄ¼þËùÓÐ°üº¬testµÄÐÐ¡£
Ìæ»»£ºsÃüÁî
*
$ sed 's/test/mytest/g' example-----ÔÚÕûÐÐ·¶Î§ÄÚ°ÑtestÌæ»»Îªmytest¡£Èç¹ûÃ»ÓÐg±ê¼Ç£¬ÔòÖ»ÓÐÃ¿ÐÐµÚÒ»¸öÆ¥ÅäµÄtest±»Ìæ»»³Émytest¡£
*
$ sed -n 's/^test/mytest/p' example-----(-n)Ñ¡ÏîºÍp±êÖ¾Ò»ÆðÊ¹ÓÃ±íÊ¾Ö»´òÓ¡ÄÇÐ©·¢ÉúÌæ»»µÄÐÐ¡£Ò²¾ÍÊÇËµ£¬Èç¹ûÄ³Ò»ÐÐ¿ªÍ·µÄtest±»Ìæ»»³Émytest£¬¾Í´òÓ¡Ëü¡£
*
$ sed 's/^192.168.0.1/&localhost/' example-----&·ûºÅ±íÊ¾Ìæ»»»»×Ö·û´®ÖÐ±»ÕÒµ½µÄ²¿·Ý¡£ËùÓÐÒÔ192.168.0.1¿ªÍ·µÄÐÐ¶¼»á±»Ìæ»»³ÉËü×ÔÒÑ¼Ó localhost£¬±ä³É192.168.0.1localhost¡£
*
$ sed -n 's/\(love\)able/\1rs/p' example-----love±»±ê¼ÇÎª1£¬ËùÓÐloveable»á±»Ìæ»»³Élovers£¬¶øÇÒÌæ»»µÄÐÐ»á±»´òÓ¡³öÀ´¡£
*
$ sed 's#10#100#g' example-----²»ÂÛÊ²Ã´×Ö·û£¬½ô¸ú×ÅsÃüÁîµÄ¶¼±»ÈÏÎªÊÇÐÂµÄ·Ö¸ô·û£¬ËùÒÔ£¬¡°#¡±ÔÚÕâÀïÊÇ·Ö¸ô·û£¬´úÌæÁËÄ¬ÈÏµÄ¡°/¡±·Ö¸ô·û¡£±íÊ¾°ÑËùÓÐ10Ìæ»»³É100¡£
Ñ¡¶¨ÐÐµÄ·¶Î§£º¶ººÅ
*
$ sed -n '/test/,/check/p' example-----ËùÓÐÔÚÄ£°åtestºÍcheckËùÈ·¶¨µÄ·¶Î§ÄÚµÄÐÐ¶¼±»´òÓ¡¡£
*
$ sed -n '5,/^test/p' example-----´òÓ¡´ÓµÚÎåÐÐ¿ªÊ¼µ½µÚÒ»¸ö°üº¬ÒÔtest¿ªÊ¼µÄÐÐÖ®¼äµÄËùÓÐÐÐ¡£
*
$ sed '/test/,/check/s/$/sed test/' example-----¶ÔÓÚÄ£°åtestºÍwestÖ®¼äµÄÐÐ£¬Ã¿ÐÐµÄÄ©Î²ÓÃ×Ö·û´®sed testÌæ»»¡£
¶àµã±à¼­£ºeÃüÁî
*
$ sed -e '1,5d' -e 's/test/check/' example-----(-e)Ñ¡ÏîÔÊÐíÔÚÍ¬Ò»ÐÐÀïÖ´ÐÐ¶àÌõÃüÁî¡£ÈçÀý×ÓËùÊ¾£¬µÚÒ»ÌõÃüÁîÉ¾³ý1ÖÁ5ÐÐ£¬µÚ¶þÌõÃüÁîÓÃcheckÌæ»»test¡£ÃüÁîµÄÖ´ ÐÐË³Ðò¶Ô½á¹ûÓÐÓ°Ïì¡£Èç¹ûÁ½¸öÃüÁî¶¼ÊÇÌæ»»ÃüÁî£¬ÄÇÃ´µÚÒ»¸öÌæ»»ÃüÁî½«Ó°ÏìµÚ¶þ¸öÌæ»»ÃüÁîµÄ½á¹û¡£
*
$ sed --expression='s/test/check/' --expression='/love/d' example-----Ò»¸ö±È-e¸üºÃµÄÃüÁîÊÇ--expression¡£ËüÄÜ¸øsed±í´ïÊ½¸³Öµ¡£
´ÓÎÄ¼þ¶ÁÈë£ºrÃüÁî
*
$ sed '/test/r file' example-----fileÀïµÄÄÚÈÝ±»¶Á½øÀ´£¬ÏÔÊ¾ÔÚÓëtestÆ¥ÅäµÄÐÐºóÃæ£¬Èç¹ûÆ¥Åä¶àÐÐ£¬ÔòfileµÄÄÚÈÝ½«ÏÔÊ¾ÔÚËùÓÐÆ¥ÅäÐÐµÄÏÂÃæ¡£
Ð´ÈëÎÄ¼þ£ºwÃüÁî
*
$ sed -n '/test/w file' example-----ÔÚexampleÖÐËùÓÐ°üº¬testµÄÐÐ¶¼±»Ð´ÈëfileÀï¡£
×·¼ÓÃüÁî£ºaÃüÁî
*
$ sed '/^test/a\\--->this is a example' example<-----'this is a example'±»×·¼Óµ½ÒÔtest¿ªÍ·µÄÐÐºóÃæ£¬sedÒªÇóÃüÁîaºóÃæÓÐÒ»¸ö·´Ð±¸Ü¡£
²åÈë£ºiÃüÁî
$ sed '/test/i\\
new line
-------------------------' example
Èç¹ûtest±»Æ¥Åä£¬Ôò°Ñ·´Ð±¸ÜºóÃæµÄÎÄ±¾²åÈëµ½Æ¥ÅäÐÐµÄÇ°Ãæ¡£
ÏÂÒ»¸ö£ºnÃüÁî
*
$ sed '/test/{ n; s/aa/bb/; }' example-----Èç¹ûtest±»Æ¥Åä£¬ÔòÒÆ¶¯µ½Æ¥ÅäÐÐµÄÏÂÒ»ÐÐ£¬Ìæ»»ÕâÒ»ÐÐµÄaa£¬±äÎªbb£¬²¢´òÓ¡¸ÃÐÐ£¬È»ºó¼ÌÐø¡£
±äÐÎ£ºyÃüÁî
*
$ sed '1,10y/abcde/ABCDE/' example-----°Ñ1--10ÐÐÄÚËùÓÐabcde×ª±äÎª´óÐ´£¬×¢Òâ£¬ÕýÔò±í´ïÊ½Ôª×Ö·û²»ÄÜÊ¹ÓÃÕâ¸öÃüÁî¡£
ÍË³ö£ºqÃüÁî
*
$ sed '10q' example-----´òÓ¡ÍêµÚ10ÐÐºó£¬ÍË³ösed¡£
±£³ÖºÍ»ñÈ¡£ºhÃüÁîºÍGÃüÁî
*
$ sed -e '/test/h' -e '$G example-----ÔÚsed´¦ÀíÎÄ¼þµÄÊ±ºò£¬Ã¿Ò»ÐÐ¶¼±»±£´æÔÚÒ»¸ö½ÐÄ£Ê½¿Õ¼äµÄÁÙÊ±»º³åÇøÖÐ£¬³ý·ÇÐÐ±»É¾³ý»òÕßÊä³ö±»È¡Ïû£¬·ñÔòËùÓÐ±»´¦ÀíµÄÐÐ¶¼½« ´òÓ¡ÔÚÆÁÄ»ÉÏ¡£½Ó×ÅÄ£Ê½¿Õ¼ä±»Çå¿Õ£¬²¢´æÈëÐÂµÄÒ»ÐÐµÈ´ý´¦Àí¡£ÔÚÕâ¸öÀý×ÓÀï£¬Æ¥ÅätestµÄÐÐ±»ÕÒµ½ºó£¬½«´æÈëÄ£Ê½¿Õ¼ä£¬hÃüÁî½«Æä¸´ÖÆ²¢´æÈëÒ»¸ö³ÆÎª±£ ³Ö»º´æÇøµÄÌØÊâ»º³åÇøÄÚ¡£µÚ¶þÌõÓï¾äµÄÒâË¼ÊÇ£¬µ±µ½´ï×îºóÒ»ÐÐºó£¬GÃüÁîÈ¡³ö±£³Ö»º³åÇøµÄÐÐ£¬È»ºó°ÑËü·Å»ØÄ£Ê½¿Õ¼äÖÐ£¬ÇÒ×·¼Óµ½ÏÖÔÚÒÑ¾­´æÔÚÓÚÄ£Ê½¿Õ¼äÖÐ µÄÐÐµÄÄ©Î²¡£ÔÚÕâ¸öÀý×ÓÖÐ¾ÍÊÇ×·¼Óµ½×îºóÒ»ÐÐ¡£¼òµ¥À´Ëµ£¬ÈÎºÎ°üº¬testµÄÐÐ¶¼±»¸´ÖÆ²¢×·¼Óµ½¸ÃÎÄ¼þµÄÄ©Î²¡£
±£³ÖºÍ»¥»»£ºhÃüÁîºÍxÃüÁî
*
$ sed -e '/test/h' -e '/check/x' example -----»¥»»Ä£Ê½¿Õ¼äºÍ±£³Ö»º³åÇøµÄÄÚÈÝ¡£Ò²¾ÍÊÇ°Ñ°üº¬testÓëcheckµÄÐÐ»¥»»¡£
7. ½Å±¾
Sed½Å±¾ÊÇÒ»¸ösedµÄÃüÁîÇåµ¥£¬Æô¶¯SedÊ±ÒÔ-fÑ¡ÏîÒýµ¼½Å±¾ÎÄ¼þÃû¡£Sed¶ÔÓÚ½Å±¾ÖÐÊäÈëµÄÃüÁî·Ç³£ÌôÌÞ£¬ÔÚÃüÁîµÄÄ©Î²²»ÄÜÓÐÈÎºÎ¿Õ°×»òÎÄ±¾£¬Èç¹ûÔÚÒ»ÐÐÖÐÓÐ¶à¸öÃüÁî£¬ÒªÓÃ·ÖºÅ·Ö¸ô¡£ÒÔ#¿ªÍ·µÄÐÐÎª×¢ÊÍÐÐ£¬ÇÒ²»ÄÜ¿çÐÐ¡£

ÈçºÎÊµÏÖtrim¹¦ÄÜ
\sed 's/^ //;s/ $//'
>>>>>>> cef2a27e4c482b04c23074a416f9545a384a312a
